<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res/auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/background_dark"
    android:padding="16dp">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">

        <!-- Header -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:background="@drawable/rounded_card_background"
            android:padding="16dp"
            android:layout_marginBottom="16dp">

            <ImageView
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:src="@drawable/ic_test"
                android:layout_gravity="center_vertical"
                app:tint="@color/primary_blue" />

            <LinearLayout
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:layout_marginStart="12dp"
                android:orientation="vertical">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="ðŸ‡§ðŸ‡© Emulator Test Suite"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:textColor="@color/white" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Low-end device performance validation"
                    android:textSize="12sp"
                    android:textColor="@color/text_secondary" />

            </LinearLayout>

            <Button
                android:id="@+id/btnToggleFPSOverlay"
                android:layout_width="wrap_content"
                android:layout_height="36dp"
                android:text="FPS Overlay"
                android:textSize="10sp"
                android:background="@drawable/secondary_button_background"
                android:textColor="@color/primary_blue"
                android:paddingHorizontal="12dp" />

        </LinearLayout>

        <!-- Real-time Metrics Dashboard -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:background="@drawable/rounded_card_background"
            android:padding="16dp"
            android:layout_marginBottom="16dp">

            <LinearLayout
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:orientation="vertical"
                android:gravity="center">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Real-time FPS"
                    android:textSize="10sp"
                    android:textColor="@color/text_secondary" />

                <TextView
                    android:id="@+id/tvCurrentFPS"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="--"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:textColor="@color/success_green" />

            </LinearLayout>

            <View
                android:layout_width="1dp"
                android:layout_height="match_parent"
                android:background="@color/divider_color" />

            <LinearLayout
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:orientation="vertical"
                android:gravity="center">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Memory"
                    android:textSize="10sp"
                    android:textColor="@color/text_secondary" />

                <TextView
                    android:id="@+id/tvCurrentMemory"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="-- MB"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:textColor="@color/primary_blue" />

            </LinearLayout>

            <View
                android:layout_width="1dp"
                android:layout_height="match_parent"
                android:background="@color/divider_color" />

            <LinearLayout
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:orientation="vertical"
                android:gravity="center">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="DB Latency"
                    android:textSize="10sp"
                    android:textColor="@color/text_secondary" />

                <TextView
                    android:id="@+id/tvDBResponse"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="-- ms"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:textColor="@color/warning_orange" />

            </LinearLayout>

        </LinearLayout>

        <!-- Quick Test Buttons -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:background="@drawable/rounded_card_background"
            android:padding="16dp"
            android:layout_marginBottom="16dp">

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="A. FPS Tests (Target: Home â‰¥55, Transitions â‰¥50, Leaderboard â‰¥50)"
                android:textSize="12sp"
                android:textStyle="bold"
                android:textColor="@color/white"
                android:layout_marginBottom="12dp" />

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal">

                <Button
                    android:id="@+id/btnTestHomeScroll"
                    android:layout_width="0dp"
                    android:layout_height="36dp"
                    android:layout_weight="1"
                    android:text="Home Scroll"
                    android:textSize="10sp"
                    android:background="@drawable/secondary_button_background"
                    android:textColor="@color/primary_blue"
                    android:layout_marginEnd="4dp" />

                <Button
                    android:id="@+id/btnTestLessonTransitions"
                    android:layout_width="0dp"
                    android:layout_height="36dp"
                    android:layout_weight="1"
                    android:text="Transitions"
                    android:textSize="10sp"
                    android:background="@drawable/secondary_button_background"
                    android:textColor="@color/primary_blue"
                    android:layout_marginHorizontal="4dp" />

                <Button
                    android:id="@+id/btnTestLeaderboardScroll"
                    android:layout_width="0dp"
                    android:layout_height="36dp"
                    android:layout_weight="1"
                    android:text="Leaderboard"
                    android:textSize="10sp"
                    android:background="@drawable/secondary_button_background"
                    android:textColor="@color/primary_blue"
                    android:layout_marginStart="4dp" />

            </LinearLayout>

        </LinearLayout>

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:background="@drawable/rounded_card_background"
            android:padding="16dp"
            android:layout_marginBottom="16dp">

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="B. Memory Tests (Idle <140MB, 3 Lessons <170MB, Download <200MB)"
                android:textSize="12sp"
                android:textStyle="bold"
                android:textColor="@color/white"
                android:layout_marginBottom="12dp" />

            <Button
                android:id="@+id/btnTestMemory"
                android:layout_width="match_parent"
                android:layout_height="36dp"
                android:text="Run Memory Profile Test"
                android:textSize="12sp"
                android:background="@drawable/primary_button_background"
                android:textColor="@color/white" />

        </LinearLayout>

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:background="@drawable/rounded_card_background"
            android:padding="16dp"
            android:layout_marginBottom="16dp">

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="C. Database Speed (100 inserts <1.5s, 100 queries <250ms, no lockups)"
                android:textSize="12sp"
                android:textStyle="bold"
                android:textColor="@color/white"
                android:layout_marginBottom="12dp" />

            <Button
                android:id="@+id/btnTestDatabase"
                android:layout_width="match_parent"
                android:layout_height="36dp"
                android:text="Run Database Speed Test"
                android:textSize="12sp"
                android:background="@drawable/primary_button_background"
                android:textColor="@color/white" />

        </LinearLayout>

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:background="@drawable/rounded_card_background"
            android:padding="16dp"
            android:layout_marginBottom="16dp">

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="D. Scroll Test (Fast lesson list scroll â‰¥45 FPS, no frame drops)"
                android:textSize="12sp"
                android:textStyle="bold"
                android:textColor="@color/white"
                android:layout_marginBottom="12dp" />

            <Button
                android:id="@+id/btnTestScrollPerformance"
                android:layout_width="match_parent"
                android:layout_height="36dp"
                android:text="Test Scroll Performance"
                android:textSize="12sp"
                android:background="@drawable/primary_button_background"
                android:textColor="@color/white" />

            <TextView
                android:id="@+id/tvScrollResult"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Scroll test not run"
                android:textSize="10sp"
                android:textColor="@color/text_secondary"
                android:layout_marginTop="8dp" />

        </LinearLayout>

        <!-- Test RecyclerView for scrolling tests -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="300dp"
            android:orientation="vertical"
            android:background="@drawable/rounded_card_background"
            android:padding="16dp"
            android:layout_marginBottom="16dp">

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="ðŸ“œ Lesson List (Scroll to test performance)"
                android:textSize="14sp"
                android:textStyle="bold"
                android:textColor="@color/white"
                android:layout_marginBottom="8dp" />

            <androidx.recyclerview.widget.RecyclerView
                android:id="@+id/recyclerViewTest"
                android:layout_width="match_parent"
                android:layout_height="0dp"
                android:layout_weight="1"
                android:scrollbars="vertical"
                tools:listitem="@layout/item_test_lesson" />

        </LinearLayout>

        <!-- Test Status -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:background="@drawable/rounded_card_background"
            android:padding="16dp"
            android:layout_marginBottom="16dp">

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Test Status"
                android:textSize="14sp"
                android:textStyle="bold"
                android:textColor="@color/white"
                android:layout_marginBottom="8dp" />

            <TextView
                android:id="@+id/tvTestStatus"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="âšª Ready to test"
                android:textSize="12sp"
                android:textColor="@color/text_secondary"
                android:layout_marginBottom="12dp" />

            <ScrollView
                android:layout_width="match_parent"
                android:layout_height="120dp">

                <TextView
                    android:id="@+id/tvTestSummary"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="No tests run yet"
                    android:textSize="10sp"
                    android:textColor="@color/text_secondary"
                    android:fontFamily="monospace"
                    android:background="@color/background_secondary"
                    android:padding="8dp" />

            </ScrollView>

        </LinearLayout>

        <!-- Action Buttons -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:layout_marginBottom="16dp">

            <Button
                android:id="@+id/btnStartTests"
                android:layout_width="0dp"
                android:layout_height="48dp"
                android:layout_weight="1"
                android:text="ðŸš€ START FULL TEST SUITE"
                android:textSize="12sp"
                android:textStyle="bold"
                android:background="@drawable/primary_button_background"
                android:textColor="@color/white"
                android:layout_marginEnd="8dp" />

        </LinearLayout>

        <!-- Instructions -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:background="@drawable/info_background"
            android:padding="16dp">

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="ðŸ“‹ Test Instructions"
                android:textSize="14sp"
                android:textStyle="bold"
                android:textColor="@color/primary_blue"
                android:layout_marginBottom="8dp" />

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="1. Enable FPS overlay for visual monitoring\n2. Run individual tests or full suite\n3. Watch real-time metrics during tests\n4. If tests fail, apply suggested optimizations\n5. Re-run until all metrics pass"
                android:textSize="12sp"
                android:textColor="@color/text_primary"
                android:lineSpacingExtra="2dp" />

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Target Device: à§³800-à§³2000 phones (2-4GB RAM, MediaTek Helio)"
                android:textSize="10sp"
                android:textStyle="italic"
                android:textColor="@color/primary_blue"
                android:layout_marginTop="8dp" />

        </LinearLayout>

    </LinearLayout>

</ScrollView>